# 中風病人輔助溝通系統

## 專案概述
為中風病人設計的點按發聲輔助溝通網頁應用，提供簡單易用的大按鈕介面，幫助無法正常說話的病人表達需求。

## 技術棧

### 前端框架
- **React 18** - 現代化的前端框架
- **Vite** - 快速的建置工具
- **Tailwind CSS** - 實用優先的 CSS 框架

### 語音方案（混合方案）
1. **優先：預先錄製音檔**
   - 存放位置：`/public/audio/`
   - 格式：MP3
   - 優點：快速、穩定、離線可用、語音品質一致

2. **備用：Web Speech API**
   - 用於未來擴展（用戶自定義單字）
   - 不需要 API key
   - 瀏覽器內建功能

### 數據持久化
- **localStorage** - 用於保存用戶偏好設定（未來功能）

## 專案結構

```
stroke-patient/
├── public/
│   └── audio/              # 預錄音檔存放處
│       ├── 痛.mp3
│       ├── 癢.mp3
│       └── ...
├── src/
│   ├── components/
│   │   ├── VoiceButton.jsx      # 可重用的語音按鈕組件
│   │   └── TabPanel.jsx         # 分頁面板組件
│   ├── hooks/
│   │   └── useAudio.js          # 混合音檔播放 hook
│   ├── data/
│   │   └── defaultPhrases.js    # 預設分類和單字配置
│   ├── App.jsx                  # 主應用組件
│   ├── App.css                  # 應用樣式
│   ├── main.jsx                 # 應用入口
│   └── index.css                # 全局樣式（Tailwind）
├── agent.md                     # AI Agent 指引文檔
├── project.md                   # 本文檔
├── package.json
├── vite.config.js
└── tailwind.config.js
```

## 核心功能

### 第一階段（當前開發）

#### 1. 語音播放（混合方案）
- 點擊按鈕播放對應音檔
- 優先嘗試播放 `/audio/{單字}.mp3`
- 找不到音檔時自動降級使用 Web Speech API
- 提供停止播放功能

#### 2. 預設分頁
- **分頁 1：日常用語**
  - 痛、癢、冷、熱、累、幫忙、謝謝

- **分頁 2：吃飯相關**
  - 餓、飽、好吃、太鹹、太淡、喝水、吃藥、不要

- **分頁 3：個人護理**（可選）
  - 上廁所、換尿布、洗澡、擦身體、翻身、坐起來

#### 3. 無障礙設計
- **大按鈕設計**
  - 按鈕尺寸：120x120px
  - 按鈕間距：16px（防止誤觸）
  - 觸控目標符合 WCAG 2.1 標準（最小 44x44px）

- **視覺設計**
  - 大字體：32px+
  - 高對比度配色
  - 清晰的按下視覺反饋
  - 支援深色/淺色模式

- **無障礙屬性**
  - 適當的 ARIA labels
  - role="button"
  - aria-pressed 狀態
  - 鍵盤導航支援

#### 4. 響應式設計
- 手機優先設計
- 平板適配
- 橫向/直向模式支援

### 第二階段（未來開發）

#### 自定義功能（暫不實作）
- 編輯模式開關
- 添加/刪除/修改單字
- 添加/刪除分頁
- localStorage 持久化
- 導出/導入設定

## 開發原則

### 代碼組織
- ✅ CSS 和 JS 分開撰寫，不內嵌在 HTML
- ✅ 組件化設計，提高可重用性
- ✅ 使用 React Hooks 管理狀態
- ✅ 保持組件單一職責原則

### 無障礙優先
- 所有交互元素必須可用鍵盤操作
- 提供適當的 ARIA 屬性
- 確保顏色對比度符合 WCAG AA 標準
- 按鈕尺寸和間距考慮手指操作

### 性能優化
- 音檔預加載（首次載入時）
- 避免不必要的重渲染
- 使用 React.memo 優化組件

## 使用說明

### 開發環境
```bash
npm install        # 安裝依賴
npm run dev        # 啟動開發伺服器
npm run build      # 建置生產版本
npm run preview    # 預覽生產版本
```

### 音檔準備
1. 將音檔放入 `/public/audio/` 資料夾
2. 檔名格式：`{單字}.mp3`（例如：`痛.mp3`）
3. 建議格式：MP3, 44.1kHz, 單聲道
4. 建議大小：每個音檔 < 100KB

### 部署
建置後的靜態文件可部署至：
- GitHub Pages
- Netlify
- Vercel
- 任何靜態網頁託管服務

## 目標用戶

### 主要用戶
- 中風後失語症病人
- 氣管切開無法說話的病人
- 其他言語障礙患者

### 使用場景
- 醫院病房
- 護理中心
- 居家照護
- 復健中心

## 設計考量

### 用戶體驗
- 簡單直觀，無需學習
- 快速響應，點擊即發聲
- 大按鈕，易於點擊
- 防止誤觸

### 可靠性
- 離線可用（音檔方案）
- 無需網絡連接
- 瀏覽器兼容性良好
- 不依賴外部 API

### 擴展性
- 易於添加新分頁
- 易於修改預設單字
- 為未來自定義功能預留接口

## 技術債務與改進方向

### 短期
- [ ] 添加音量控制
- [ ] 添加語音速度調整
- [ ] 實作按鈕長按預覽

### 中期
- [ ] 實作編輯模式
- [ ] localStorage 持久化
- [ ] 導出/導入設定功能

### 長期
- [ ] PWA 支援（離線使用）
- [ ] 多語言支援
- [ ] 雲端同步功能
- [ ] 使用統計和建議

## 授權
待定

## 更新日誌

### 2026-01-11
- 初始化專案
- 設置 Vite + React + Tailwind CSS
- 建立專案文檔結構
